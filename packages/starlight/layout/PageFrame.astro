---
import MobileMenuToggle from '../components/MobileMenuToggle.astro';
import { useTranslations } from '../utils/translations';

interface Props {
	hasSidebar: boolean;
	locale: string | undefined;
}

const { hasSidebar, locale } = Astro.props;
const t = useTranslations(locale);
---

<div class="flex flex-col">
	<header class="sticky top-4 z-50"><slot name="header" /></header>
	{
		hasSidebar && (
			<nav class="sidebar" aria-label={t('sidebarNav.accessibleLabel')}>
				<MobileMenuToggle {locale} />
				<div id="starlight__sidebar" class="sidebar-pane">
					<div class="sidebar-content">
						<slot name="sidebar" />
					</div>
				</div>
			</nav>
		)
	}
	<div class="main-frame"><slot /></div>
</div>
